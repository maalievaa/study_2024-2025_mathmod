---
## Front matter
title: "Лабораторная работа №3"
subtitle: "Модель боевых действий"
author: "Алиева Милена Арифовна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Построить модель боевых действий на языке программирования Julia и посредством ПО OpenModelica.

# Задание

Между страной $X$ и страной $Y$ идет война. Численность состава войск
исчисляется от начала войны, и являются временными функциями $x(t)$ и $y(t)$. В
начальный момент времени страна $X$ имеет армию численностью 20500 человек,
а в распоряжении страны $Y$ армия численностью в 21500 человек. Для упрощения
модели считаем, что коэффициенты $a, b, c, h$ постоянны. Также считаем $P(t)$ и $Q(t)$ непрерывные функции.

Построить графики изменения численности войск армии $X$ и армии $Y$ для  следующих случаев:

1. Модель боевых действий между регулярными войсками
$$\begin{cases}
    \dfrac{dx}{dt} = -0.21x(t)- 0.74y(t)+sin(t)+0,5\\
    \dfrac{dy}{dt} = -0.68x(t)- 0.19y(t)+cos(t)+0,5
\end{cases}$$

2. Модель ведение боевых действий с участием регулярных войск и партизанских отрядов

$$\begin{cases}
    \dfrac{dx}{dt} = -0.09x(t)-0.79y(t)+sin(2t)\\
    \dfrac{dy}{dt} = -0.62x(t)y(t)-0.11y(t)+cos(2t)
\end{cases}$$

# Теоретическое введение

Законы Ланчестера (законы Осипова — Ланчестера) — математическая формула для расчета относительных сил пары сражающихся сторон — подразделений вооруженных сил. В статье «Влияние численности сражающихся сторон на их потери», опубликованной журналом «Военный сборник» в 1915 году, генерал-майор Корпуса военных топографов М. П. Осипов описал математическую модель глобального вооружённого противостояния, практически применяемую в военном деле при описании убыли сражающихся сторон с течением времени и, входящую в математическую теорию исследования операций, на год опередив английского математика Ф. У. Ланчестера. Мировая война, две революции в России не позволили новой власти заявить в установленном в научной среде порядке об открытии царского офицера.

Уравнения Ланчестера — это дифференциальные уравнения, описывающие зависимость между силами сражающихся сторон A и D как функцию от времени, причем функция зависит только от A и D.

В 1916 году, в разгар первой мировой войны, Фредерик Ланчестер разработал систему дифференциальных уравнений для демонстрации соотношения между противостоящими силами. Среди них есть так называемые Линейные законы Ланчестера (первого рода или честного боя, для рукопашного боя или неприцельного огня) и Квадратичные законы Ланчестера (для войн начиная с XX века с применением прицельного огня, дальнобойных орудий, огнестрельного оружия). В связи с установленным приоритетом в англоязычной литературе наметилась тенденция перехода от фразы «модель Ланчестера» к «модели Осипова — Ланчестера».

# Выполнение лабораторной работы

## Модель боевых действий между регулярными войсками

$$\begin{cases}
    \dfrac{dx}{dt} = -0.21x(t)- 0.74y(t)+sin(t)+0,5\\
    \dfrac{dy}{dt} = -0.68x(t)- 0.19y(t)+cos(t)+0,5
\end{cases}$$

Для начала построим эту модель на Julia:


```Julia
# используемые библиотеки
using DifferentialEquations, Plots;

# задание системы дифференциальных уравнений, описывающих модель 
# боевых действий между регулярными войсками
function reg(u, p, t)
    x, y = u
    a, b, c, h = p
    dx = -a*x - b*y+sin(t)+0.5
    dy = -c*x -h*y+cos(t)+0.5
    return [dx, dy]
end

# начальные условия
u0 = [20500, 21500]
p = [0.21, 0.74, 0.68, 0.19]
tspan = (0,1)

# постановка проблемы
prob = ODEProblem(reg, u0, tspan, p)

# решение системы ДУ
sol = solve(prob, Tsit5())

# построение графика, который описывает изменение численности армий
plot(sol, title = "Модель боевых действий №1",  label = ["Армия X" "Армия Y"], xaxis = "Время", yaxis = "Численность армии")
```

В результате получаем следующий график (рис. [-@fig:001]):

![Модель боевых действий  между регулярными войсками](image/1.jpg){#fig:001 width=70%}

Видим, что армия Х несёт потери быстрее, чем армия Y.

Теперь построим эту же модель посредством OpenModelica.

```OpenModelica
model lab3
  parameter Real a = 0.21;
  parameter Real b = 0.74;
  parameter Real c = 0.68;
  parameter Real h = 0.19;
  parameter Real x0 = 20500;
  parameter Real y0 = 21500;
  Real x(start=x0);
  Real y(start=y0);
equation
  der(x) = -a*x - b*y+sin(time)+0.5;
  der(y) = -c*x -h*y+cos(time)+0.5;
end lab3;
```

В результате получаем следующий график изменения численности армий (рис. [-@fig:002]):

![Модель боевых действий  между регулярными войсками](image/2.jpg){#fig:002 width=70%}

Видим, что армия Х несёт потери быстрее, чем армия Y, как и на графике, построенном с помощью Julia.
 

## Модель ведение боевых действий с участием регулярных войск и партизанских отрядов

Во втором случае в борьбу добавляются партизанские отряды. Нерегулярные
войска в отличии от постоянной армии менее уязвимы, так как действуют скрытно,
в этом случае сопернику приходится действовать неизбирательно, по площадям,
занимаемым партизанами. Поэтому считается, что тем потерь партизан,
проводящих свои операции в разных местах на некоторой известной территории,
пропорционален не только численности армейских соединений, но и численности
самих партизан. В результате модель принимает вид:

$$\begin{cases}
    \dfrac{dx}{dt} = -0.09x(t)-0.79y(t)+sin(2t)\\
    \dfrac{dy}{dt} = -0.62x(t)y(t)-0.11y(t)+cos(2t)
\end{cases}$$

В этой системе все величины имею тот же смысл, что и в первой модели.

Построим модель на Julia:

```Julia
# задание системы дифференциальных уравнений, описывающих модель 
# боевых действий с участием регулярных войск и партизанских отрядов
function reg_part(u, p, t)
    x, y = u
    a, b, c, h = p
    dx = -a*x - b*y+sin(2*t)
    dy = -c*x*y -h*y+cos(2*t)
    return [dx, dy]
end

# начальные условия
u0 = [20500, 21500]
p = [0.09, 0.79, 0.62, 0.12]
tspan = (0,1)

# постановка проблемы
prob2 = ODEProblem(reg_part, u0, tspan, p)

# решение системы ДУ
sol2 = solve(prob2, Tsit5())

# построение графика, который описывает изменение численности армий
plot(sol2, title = "Модель боевых действий №2", label = ["Армия X" "Армия Y"], xaxis = "Время", yaxis = "Численность армии", xlimit = [0,0.001])
```

В результате получаем следующий график изменения численности армий (рис. [-@fig:003]):

![Модель боевых действий с участием регулярных войск и партизанских отрядов](image/3.jpg){#fig:003 width=70%}


Теперь выполним построение второй модели в Open Modelica. Код выглядит следующим образом:

```OpenModelica
model lab32
parameter Real a = 0.09;
  parameter Real b = 0.79;
  parameter Real c = 0.62;
  parameter Real h = 0.11;
  parameter Real x0 = 20500;
  parameter Real y0 = 21500;
  Real x(start=x0);
  Real y(start=y0);
equation
  der(x) = -a*x - b*y+sin(2*time);
  der(y) = -c*x*y -h*y+cos(2*time);
end lab32;
```

В результате получается такой график:

![Модель боевых действий с участием регулярных войск и партизанских отрядов](image/4.jpg){#fig:004 width=70%}

Здесь мы видим, что армия Y несёт потери быстрее, чем армия X.

# Выводы

В процессе выполнения данной лабораторной работы я построила модель боевых действий на языке программирования Julia и посредством ПО OpenModelica, а также провела сравнительный анализ.



